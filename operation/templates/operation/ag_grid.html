{% load static %}

<!DOCTYPE html>
<html lang="en">
	<head>
		<title>La Garde Nationale</title>
		<meta charSet="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/offcanvas.css' %}" rel="stylesheet">
        <link href="{% static 'css/dashboard.css' %}" rel="stylesheet">

        <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/sidebars/">
        

		<style media="only screen">
            html, body {
                height: 100%;
                width: 100%;
                margin: 0;
                box-sizing: border-box;
                -webkit-overflow-scrolling: touch;
            }

            html {
                position: absolute;
                top: 0;
                left: 0;
                padding: 0;
                overflow: auto;
            }

            body {
                padding: 1rem;
                overflow: auto;
            }
        </style>
	</head>
	<body>

        <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark" aria-label="Main navigation">
            <div class="container-fluid">
                <a class="navbar-brand" href="{% url 'account_home' %}">La Garde Nationale</a>
                <button class="navbar-toggler p-0 border-0" type="button" id="navbarSideCollapse" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>

                <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#"></a>
                            
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'profile_information' %}">Profil</a>
                            
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'statistique' %}">Les Statistiques</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Creer Compte</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-bs-toggle="dropdown" aria-expanded="false">Settings</a>

                            <ul class="dropdown-menu" aria-labelledby="dropdown01">
                                <li><a class="dropdown-item" href="{% url 'ajouter_operation' %}">Ajouter Operation</a></li>
                                <li><a class="dropdown-item" href="{% url 'creer_fichier' %}">Ajouter Une Fichier Des Operations</a></li>
                                <li><a class="dropdown-item" href="{% url 'logout_page' %}">Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                    
                </div>
            </div>
        </nav>
        
        <br><br>
        <div class="nav-scroller bg-body shadow-sm">
            <nav class="nav nav-underline" aria-label="Secondary navigation">
                <p class="nav-link active" aria-current="page">{{agent_nom}} {{agent_prenom}}</p>
                <a class="nav-link active" href="{% url 'operation_home' %}">
                    Les Operations
                    <span class="badge bg-light text-dark rounded-pill align-text-bottom">{{nombre_des_operations_terminer}}</span>
                </a>
                <a class="nav-link" href="{% url 'fichiers_des_operations' %}">
                    Les Fichiers des Operations
                    <span class="badge bg-light text-dark rounded-pill align-text-bottom">{{nombre_fichiers_operations}}</span>
                </a>
                <a class="nav-link" href="{% url 'page_home_migrant' %}">Les Migrants Irreguliers</a>
                
            </nav>
        </div>

        <br>
		<div id="myGrid" style="height: 88%;" class="ag-theme-alpine">
		</div>
		<script src="https://unpkg.com/@ag-grid-enterprise/all-modules@25.3.0/dist/ag-grid-enterprise.min.js"></script>
		
        <script type="text/javascript" charset="utf-8">
            var columnDefs = [
                {
                    headerName: ' ',
                    headerCheckboxSelection: true,
                    checkboxSelection: true,
                    floatingFilter: false,
                    suppressMenu: true,
                    minWidth: 50,
                    maxWidth: 50,
                    width: 50,
                    flex: 0,
                    resizable: false,
                    sortable: false,
                    editable: false,
                    filter: false,
                    suppressColumnsToolPanel: true,
                },
                {
                    headerName: 'Les Operations',
                    children: [
                    { field: 'Region' , filter: 'agNumberColumnFilter'},
                    
                    {
                        field: 'Total Des Operations',
                        filter: 'agNumberColumnFilter',
                        width: 230,
                        flex: 0,
                    },
                    {
                        field: 'Mer',
                        columnGroupShow: 'open',
                        filter: 'agNumberColumnFilter',
                        width: 100,
                        flex: 0,
                    },
                    {
                        field: 'Terre',
                        columnGroupShow: 'open',
                        filter: 'agNumberColumnFilter',
                        width: 100,
                        flex: 0,
                    },
                    ],
                },
                
                {
                    headerName: 'Les Migrants',
                    children: [
                    { field: 'Total Des Migrants',filter: 'agNumberColumnFilter'},
                    
                    
                    {
                        field: 'Migrants Tunisien',
                        columnGroupShow: 'open',
                        filter: 'agNumberColumnFilter',
                        width: 200,
                        flex: 0,
                    },
                    {
                        field: 'Migrants Etranger',
                        columnGroupShow: 'open',
                        filter: 'agNumberColumnFilter',
                        width: 200,
                        flex: 0,
                    },
                    { field: 'Date', filter: 'agNumberColumnFilter' },
                    ],
                },
                
            ];

            var gridOptions = {
            rowData: null,
            columnDefs: columnDefs,
            rowSelection: 'multiple',
            suppressRowClickSelection: true,
            defaultColDef: {
                editable: true,
                sortable: true,
                minWidth: 100,
                filter: true,
                resizable: true,
                floatingFilter: true,
                flex: 1,
            },
            
            
             

            
            sideBar: {
                toolPanels: ['filters'],
                defaultToolPanel: '',
            },
            };

            // setup the grid after the page has finished loading
            document.addEventListener('DOMContentLoaded', function () {
            var gridDiv = document.querySelector('#myGrid');
            new agGrid.Grid(gridDiv, gridOptions);

            agGrid
                .simpleHttpRequest({
                url: 'https://www.ag-grid.com/example-assets/olympic-winners.json',
                })
                .then(function (data) {
                gridOptions.api.setRowData(data);
                });
            });
        </script>

        <script src="{% static 'js/bootstrap.bundle.min.js'%}"></script>
        <script src="{% static 'js/offcanvas.js'%}"></script>
        <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script>
        <script src="{% static 'js/dashboard.js'%}"></script>
	</body>
</html>


       